<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Registro de Tiquetes</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <h1>Registro de Tiquetes de Pesagem</h1>

  <form id="registroForm">
    <label>Nome do Cooperado:</label>
    <input type="text" name="nome" required><br>

    <label>Número do Tiquete:</label>
    <input type="text" name="numero" required><br>

    <label>Peso Bruto (kg):</label>
    <input type="number" step="0.01" name="peso_bruto" required><br>

    <label>Peso Líquido (kg):</label>
    <input type="number" step="0.01" name="peso_liquido" required><br>

    <label>Destino/Produto:</label>
    <input type="text" name="destino" required><br>

    <label>Assinatura do Cooperado:</label>
    <canvas id="signatureCanvas" width="300" height="100" style="border:1px solid #000;"></canvas>
    <input type="hidden" name="assinatura" id="assinaturaInput">
    <button type="button" onclick="limparAssinatura()">Limpar</button><br><br>

    <button type="submit">Salvar Registro</button>
  </form>

  <hr>
  <h2>Últimos Registros</h2>
  <table border="1">
    <tr>
      <th>ID</th><th>Data/Hora</th><th>Nome</th><th>Tiquete</th><th>Destino</th>
    </tr>
    {% for r in registros %}
    <tr>
      <td>{{ r[0] }}</td>
      <td>{{ r[1] }}</td>
      <td>{{ r[2] }}</td>
      <td>{{ r[3] }}</td>
      <td>{{ r[6] }}</td>
    </tr>
    {% endfor %}
  </table>

  <script src="{{ url_for('static', filename='js/signature.js') }}"></script>
</body>
</html>